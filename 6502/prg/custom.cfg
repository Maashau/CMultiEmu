FEATURES {
    STARTADDRESS: default = $0000;
}
SYMBOLS {
    __ZPSTART__:    type = weak, value = $0003;
    __ZPSIZE__:     type = weak, value = $FF - 3;
    __ZPEND__:      type = weak, value = __ZPSTART__ + __ZPSIZE__;

    __STACKSTART__: type = weak, value = __ZPEND__ + 1;
    __STACKSIZE__:  type = weak, value = $00FF;
    __STACKEND__:   type = weak, value = __STACKSTART__ + __STACKSIZE__;

    __MAINSTART__:  type = weak, value = __STACKEND__ + 1;
    __MAINSIZE__:   type = weak, value = __SCRSTART__ - __STACKSTART__;
    __MAINEND__:    type = weak, value = __MAINSTART__ + __MAINSIZE__;

    __SCRSTART__:   type = weak, value = $F690;
    __SCRSIZE__:    type = weak, value = 60 * 25;
    __SCREND__:     type = weak, value = __SCRSTART__ + __SCRSIZE__;
}
MEMORY {
    RST:        start = 0,             size = 3,                    file = %O,  fill = yes;
    ZP:         start = __ZPSTART__,   size = __ZPSIZE__ + 1,       file = %O,  fill = yes, define = yes;
    STACK:      start = __STACKSTART__,size = __STACKSIZE__ + 1,    file = %O,  fill = yes;
    MAIN:       start = __MAINSTART__, size = __MAINSIZE__ + 1,     file = %O,  fill = yes;
    SCR_MEM:    start = __SCRSTART__,  size = __SCRSIZE__,          file = %O,  fill = yes, define = yes;
}
SEGMENTS {
    STARTUP:  load = RST,  type = rw,  optional = no;
    ZEROPAGE: load = ZP,   type = rw;
    CODE:     load = MAIN, type = rw;
    DATA:     load = MAIN, type = rw;
}
FEATURES {
    CONDES: type    = constructor,
            label   = __CONSTRUCTOR_TABLE__,
            count   = __CONSTRUCTOR_COUNT__,
            segment = ONCE;
    CONDES: type    = destructor,
            label   = __DESTRUCTOR_TABLE__,
            count   = __DESTRUCTOR_COUNT__,
            segment = RODATA;
    CONDES: type    = interruptor,
            label   = __INTERRUPTOR_TABLE__,
            count   = __INTERRUPTOR_COUNT__,
            segment = RODATA,
            import  = __CALLIRQ__;
}
